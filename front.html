<html lang="es" class="h-full">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Infinite Axis — Generador de Ángulos de Imagen</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
  /* Estilos personalizados para los sliders */
  .slider {
    -webkit-appearance: none;
    appearance: none;
    background: #404040;
    outline: none;
  }
  
  .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    background: #8b5cf6;
    cursor: pointer;
    border-radius: 50%;
    border: 2px solid #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: #8b5cf6;
    cursor: pointer;
    border-radius: 50%;
    border: 2px solid #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .slider:hover::-webkit-slider-thumb {
    background: #7c3aed;
  }
  
  .slider:hover::-moz-range-thumb {
    background: #7c3aed;
  }
</style>
</head>
<body class="min-h-full antialiased bg-neutral-950 text-neutral-100 transition-colors duration-200" style="font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;" data-theme="dark">

<div class="flex h-screen overflow-hidden">
  <!-- Sidebar -->
  <aside class="w-80 border-r border-neutral-800 bg-neutral-900/50 flex flex-col">
    <!-- Header -->
    <div class="flex items-center justify-between px-6 py-5 border-b border-neutral-800">
      <div class="flex items-center gap-3">
        <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 text-white font-semibold text-sm" style="letter-spacing: -0.05em;">IA</div>
        <h1 class="text-lg font-semibold tracking-tight">Infinite Axis</h1>
      </div>
      <button id="theme-toggle" class="inline-flex h-9 w-9 items-center justify-center rounded-lg text-neutral-400 hover:bg-neutral-800 hover:text-neutral-100 transition-colors" aria-label="Cambiar tema">
        <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>
        <svg id="icon-sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 hidden"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg>
      </button>
    </div>

    <!-- Upload Section -->
    <div class="p-6 border-b border-neutral-800">
      <label for="file-upload" class="block cursor-pointer">
        <div id="upload-area" class="flex flex-col items-center justify-center h-40 px-4 py-6 bg-neutral-800/50 border-2 border-dashed border-neutral-700 rounded-2xl hover:bg-neutral-800 hover:border-neutral-600 transition-all">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-10 w-10 text-neutral-500 mb-3"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" x2="12" y1="3" y2="15"></line></svg>
          <p class="text-sm font-medium text-neutral-300 mb-1">Coloque la imagen aquí</p>
          <p class="text-xs text-neutral-500">- o -</p>
          <p class="text-xs text-neutral-500">Haga clic para cargar</p>
        </div>
        <input id="file-upload" type="file" accept="image/png,image/jpeg" class="hidden">
      </label>
      <button id="generate-btn" disabled class="mt-4 w-full inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium bg-violet-600 text-white hover:bg-violet-500 disabled:opacity-40 disabled:cursor-not-allowed transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>
        Generar Ángulos
      </button>
    </div>

    <!-- Tools Section -->
    <div class="flex-1 overflow-y-auto px-6 py-6">
      <div class="space-y-6">
        <!-- Controles de Cámara -->
        <div>
          <label class="block text-sm font-medium text-neutral-400 mb-3">Controles de Cámara</label>
          <div class="space-y-4">
            <!-- Rotar Derecha-Izquierda -->
            <div>
              <label for="rotate-slider" class="block text-xs text-neutral-500 mb-2">Rotar Derecha-Izquierda (grados °)</label>
              <input id="rotate-slider" type="range" min="-90" max="90" step="45" value="0" class="slider w-full h-2 bg-neutral-700 rounded-lg cursor-pointer">
              <div class="flex justify-between text-xs text-neutral-600 mt-1">
                <span>-90</span>
                <span>-45</span>
                <span id="rotate-value" class="text-violet-400 font-semibold">0</span>
                <span>45</span>
                <span>90</span>
              </div>
            </div>

            <!-- Mover Adelante -->
            <div>
              <label for="forward-slider" class="block text-xs text-neutral-500 mb-2">Mover Adelante → Acercamiento</label>
              <input id="forward-slider" type="range" min="0" max="10" step="5" value="0" class="slider w-full h-2 bg-neutral-700 rounded-lg cursor-pointer">
              <div class="flex justify-between text-xs text-neutral-600 mt-1">
                <span>0</span>
                <span id="forward-value" class="text-violet-400 font-semibold">0</span>
                <span>10</span>
              </div>
            </div>

            <!-- Ángulo Vertical -->
            <div>
              <label for="vertical-slider" class="block text-xs text-neutral-500 mb-2">Ángulo Vertical (Cenital ↔ Contrapicado)</label>
              <input id="vertical-slider" type="range" min="-1" max="1" step="1" value="0" class="slider w-full h-2 bg-neutral-700 rounded-lg cursor-pointer">
              <div class="flex justify-between text-xs text-neutral-600 mt-1">
                <span>-1</span>
                <span id="vertical-value" class="text-violet-400 font-semibold">0</span>
                <span>1</span>
              </div>
            </div>

            <!-- Lente Gran Angular -->
            <div class="flex items-center justify-between px-4 py-2.5 bg-neutral-800/50 rounded-xl">
              <span class="text-sm">Lente Gran Angular</span>
              <label for="wide-angle" class="relative inline-flex items-center cursor-pointer">
                <input id="wide-angle" type="checkbox" class="sr-only peer" aria-label="Lente Gran Angular">
                <div class="w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"></div>
              </label>
            </div>

            <!-- Botón Restablecer -->
            <button id="reset-btn" class="w-full inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium bg-neutral-800 text-neutral-300 hover:bg-neutral-700 transition-all">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg>
              Restablecer
            </button>
          </div>
        </div>

        <!-- Configuración Avanzada -->
        <div>
          <button id="advanced-toggle" class="w-full flex items-center justify-between text-sm font-medium text-neutral-400 mb-3 hover:text-neutral-300 transition-colors">
            <span>Configuración Avanzada</span>
            <svg id="advanced-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 transition-transform"><path d="m6 9 6 6 6-6"></path></svg>
          </button>
          <div id="advanced-settings" class="hidden space-y-4">
            <!-- Semilla -->
            <div>
              <label for="seed-input" class="block text-xs text-neutral-500 mb-2">Semilla (Seed)</label>
              <input id="seed-input" type="number" min="0" max="2147483647" value="0" class="w-full px-3 py-2 bg-neutral-800/50 border border-neutral-700 rounded-lg text-sm focus:outline-none focus:border-violet-600">
            </div>

            <!-- Aleatorizar Semilla -->
            <div class="flex items-center justify-between px-4 py-2.5 bg-neutral-800/50 rounded-xl">
              <span class="text-sm">Aleatorizar Semilla</span>
              <label for="randomize-seed" class="relative inline-flex items-center cursor-pointer">
                <input id="randomize-seed" type="checkbox" checked class="sr-only peer" aria-label="Aleatorizar Semilla">
                <div class="w-11 h-6 bg-neutral-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600"></div>
              </label>
            </div>

            <!-- Escala de Guía -->
            <div>
              <label for="guidance-slider" class="block text-xs text-neutral-500 mb-2">Escala de Guía (Guidance Scale)</label>
              <input id="guidance-slider" type="range" min="1" max="10" step="0.1" value="1" class="slider w-full h-2 bg-neutral-700 rounded-lg cursor-pointer">
              <div class="flex justify-between text-xs text-neutral-600 mt-1">
                <span>1</span>
                <span id="guidance-value" class="text-violet-400 font-semibold">1</span>
                <span>10</span>
              </div>
            </div>

            <!-- Pasos de Inferencia -->
            <div>
              <label for="steps-slider" class="block text-xs text-neutral-500 mb-2">Pasos de Inferencia</label>
              <input id="steps-slider" type="range" min="1" max="40" value="4" class="slider w-full h-2 bg-neutral-700 rounded-lg cursor-pointer">
              <div class="flex justify-between text-xs text-neutral-600 mt-1">
                <span>1</span>
                <span id="steps-value" class="text-violet-400 font-semibold">4</span>
                <span>40</span>
              </div>
            </div>

            <!-- Altura -->
            <div>
              <label for="height-slider" class="block text-xs text-neutral-500 mb-2">Altura (px)</label>
              <input id="height-slider" type="range" min="256" max="2048" step="64" value="1024" class="slider w-full h-2 bg-neutral-700 rounded-lg cursor-pointer">
              <div class="flex justify-between text-xs text-neutral-600 mt-1">
                <span>256</span>
                <span id="height-value" class="text-violet-400 font-semibold">1024</span>
                <span>2048</span>
              </div>
            </div>

            <!-- Anchura -->
            <div>
              <label for="width-slider" class="block text-xs text-neutral-500 mb-2">Anchura (px)</label>
              <input id="width-slider" type="range" min="256" max="2048" step="64" value="1024" class="slider w-full h-2 bg-neutral-700 rounded-lg cursor-pointer">
              <div class="flex justify-between text-xs text-neutral-600 mt-1">
                <span>256</span>
                <span id="width-value" class="text-violet-400 font-semibold">1024</span>
                <span>2048</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Old Angle Selection (Hidden) -->
        <div class="hidden">
          <label class="block text-sm font-medium text-neutral-400 mb-3">Vistas de Ángulo</label>
          <div class="grid grid-cols-2 gap-2">
                        <!-- Row 1 -->
            <button id="angle-forward" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-violet-600 hover:border-violet-500 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop" alt="Vista frontal" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Mover Adelante</span>
            </button>

            <button id="angle-left" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200&h=200&fit=crop" alt="Vista izquierda" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Mover Izquierda</span>
            </button>

            <!-- Row 2 -->
            <button id="angle-right" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop" alt="Vista derecha" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Mover Derecha</span>
            </button>

            <button id="angle-down" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200&h=200&fit=crop" alt="Vista abajo" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Mover Abajo</span>
            </button>

            <!-- Row 3 -->
            <button id="angle-rotate-left" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop" alt="Rotar izquierda" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Rotar 45° Izq.</span>
            </button>

            <button id="angle-rotate-right" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200&h=200&fit=crop" alt="Rotar derecha" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Rotar 45° Der.</span>
            </button>

            <!-- Row 4 -->
            <button id="angle-top" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop" alt="Vista cenital" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Vista Cenital</span>
            </button>

            <button id="angle-wide" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200&h=200&fit=crop" alt="Ángulo amplio" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Ángulo Amplio</span>
            </button>

            <!-- Row 5 -->
            <button id="angle-closeup" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200&h=200&fit=crop" alt="Primer plano" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Primer Plano</span>
            </button>

            <button id="angle-back" class="flex flex-col items-center justify-center p-4 bg-neutral-800/50 rounded-xl hover:bg-neutral-800 transition-all cursor-pointer border-2 border-transparent hover:border-neutral-700 group">
              <div class="w-full aspect-square mb-3 rounded-lg bg-neutral-900/50 overflow-hidden">
                <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=200&h=200&fit=crop" alt="Vista posterior" class="w-full h-full object-cover">
              </div>
              <span class="text-xs font-medium text-center">Vista Posterior</span>
            </button>
          </div>
        </div>



        <!-- Model Info -->
        <div class="p-4 bg-violet-500/10 border border-violet-500/20 rounded-xl">
          <div class="flex items-start gap-3">
            <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-violet-500/20 text-violet-300 flex-shrink-0">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"></path><path d="M8.5 8.5v.01"></path><path d="M16 15.5v.01"></path><path d="M12 12v.01"></path><path d="M11 17v.01"></path><path d="M7 14v.01"></path></svg>
            </div>
            <div>
              <p class="text-xs font-medium text-violet-300 mb-1">Qwen-Image-2509</p>
              <p class="text-xs text-neutral-400">Modelo de generación multi-ángulo</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 flex flex-col overflow-hidden">
    <!-- Top Bar -->
    <header class="border-b border-neutral-800 bg-neutral-900/30 backdrop-blur-sm">
      <div class="flex items-center justify-between px-6 py-4">
        <div>
          <h2 class="text-lg font-semibold tracking-tight">Vista Previa</h2>
          <p class="text-sm text-neutral-500">Vistas de ángulos generados</p>
        </div>
        <div class="flex items-center gap-3">
          <button class="inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-medium text-neutral-400 hover:text-neutral-100 hover:bg-neutral-800 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg>
            Reiniciar
          </button>
          <button class="inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-medium bg-neutral-800 text-neutral-100 hover:bg-neutral-700 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" x2="12" y1="15" y2="3"></line></svg>
            Exportar Todo
          </button>
        </div>
      </div>
    </header>

    <!-- Preview Grid -->
    <div class="flex-1 overflow-y-auto p-6">
      <div id="preview-empty" class="flex items-center justify-center h-full">
        <div class="text-center max-w-md">
          <div class="flex h-20 w-20 items-center justify-center rounded-2xl bg-neutral-800/50 text-neutral-600 mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-10 w-10"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path></svg>
          </div>
          <h3 class="text-xl font-semibold tracking-tight mb-2">Sin Imagen Cargada</h3>
          <p class="text-sm text-neutral-500 mb-6">Sube una imagen para generar múltiples vistas de ángulos usando IA</p>
          <div class="flex items-center justify-center gap-4 text-xs text-neutral-600">
            <div class="flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M20 6 9 17l-5-5"></path></svg>
              <span>Alta Calidad</span>
            </div>
            <div class="flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M20 6 9 17l-5-5"></path></svg>
              <span>Procesamiento Rápido</span>
            </div>
            <div class="flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M20 6 9 17l-5-5"></path></svg>
              <span>Múltiples Ángulos</span>
            </div>
          </div>
        </div>
      </div>

      <div id="preview-grid" class="hidden grid grid-cols-2 gap-6 max-w-6xl mx-auto">
        <!-- Imagen de Entrada -->
        <div>
          <div class="bg-neutral-900/50 border border-neutral-800 rounded-2xl overflow-hidden">
            <div class="p-4 border-b border-neutral-800">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-neutral-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-neutral-400"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"></path><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"></path><path d="M18 12a2 2 0 0 0 0 4h4v-4Z"></path></svg>
                  </div>
                  <div>
                    <p class="text-sm font-medium">Imagen de Entrada</p>
                    <p class="text-xs text-neutral-500">Original cargada</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="aspect-square bg-neutral-800/50 flex items-center justify-center">
              <img id="original-preview" src="" alt="Original" class="max-w-full max-h-full object-contain hidden">
              <div id="original-placeholder" class="text-neutral-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-16 w-16"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path></svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Imagen de Salida -->
        <div id="output-image" class="bg-neutral-900/50 border border-neutral-800 rounded-2xl overflow-hidden">
          <div class="p-4 border-b border-neutral-800">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-violet-500/10">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-violet-400"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg>
                </div>
                <div>
                  <p class="text-sm font-medium">Imagen de Salida</p>
                  <p id="output-status" class="text-xs text-neutral-500">Esperando...</p>
                </div>
              </div>
              <button id="download-btn" class="hidden inline-flex h-8 w-8 items-center justify-center rounded-lg text-neutral-400 hover:bg-neutral-800 hover:text-neutral-100 transition-colors" aria-label="Descargar imagen">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" x2="12" y1="15" y2="3"></line></svg>
              </button>
            </div>
          </div>
          <div class="aspect-square bg-neutral-800/50 flex items-center justify-center relative">
            <div id="output-placeholder" class="text-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-16 w-16 text-neutral-600 mx-auto mb-3"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path></svg>
              <p class="text-sm text-neutral-500">Imagen generada aparecerá aquí</p>
            </div>
            <img id="output-preview" src="" alt="Output" class="hidden w-full h-full object-cover">
          </div>
        </div>
      </div>
    </div>

    <!-- Status Bar -->
    <footer class="border-t border-neutral-800 bg-neutral-900/30 backdrop-blur-sm px-6 py-3">
      <div class="flex items-center justify-between text-xs">
        <div class="flex items-center gap-4 text-neutral-500">
          <div class="flex items-center gap-2">
            <div class="h-2 w-2 rounded-full bg-green-500"></div>
            <span>Modelo Listo</span>
          </div>
          <div class="h-4 w-px bg-neutral-800"></div>
          <span>Qwen-Image-2509-Multiple-Angles</span>
        </div>
        <div class="flex items-center gap-4 text-neutral-500">
          <span id="status-text">Listo para generar</span>
          <div class="h-4 w-px bg-neutral-800"></div>
          <span>v1.0.0</span>
        </div>
      </div>
    </footer>
  </main>
</div>

<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
<script>
  lucide.createIcons();

  // Theme Toggle
  const themeToggle = document.getElementById('theme-toggle');
  const body = document.body;
  const iconMoon = document.getElementById('icon-moon');
  const iconSun = document.getElementById('icon-sun');

  themeToggle.addEventListener('click', () => {
    const isDark = body.getAttribute('data-theme') === 'dark';
    
    if (isDark) {
      body.setAttribute('data-theme', 'light');
      body.classList.remove('bg-neutral-950', 'text-neutral-100');
      body.classList.add('bg-white', 'text-neutral-900');
      iconMoon.classList.add('hidden');
      iconSun.classList.remove('hidden');
    } else {
      body.setAttribute('data-theme', 'dark');
      body.classList.remove('bg-white', 'text-neutral-900');
      body.classList.add('bg-neutral-950', 'text-neutral-100');
      iconSun.classList.add('hidden');
      iconMoon.classList.remove('hidden');
    }
    
    lucide.createIcons();
  });

  // Elements
  const fileUpload = document.getElementById('file-upload');
  const generateBtn = document.getElementById('generate-btn');
  const resetBtn = document.getElementById('reset-btn');
  const originalPreview = document.getElementById('original-preview');
  const originalPlaceholder = document.getElementById('original-placeholder');
  const outputPreview = document.getElementById('output-preview');
  const outputPlaceholder = document.getElementById('output-placeholder');
  const outputStatus = document.getElementById('output-status');
  const downloadBtn = document.getElementById('download-btn');
  const previewEmpty = document.getElementById('preview-empty');
  const previewGrid = document.getElementById('preview-grid');
  const statusText = document.getElementById('status-text');

  // Sliders
  const rotateSlider = document.getElementById('rotate-slider');
  const rotateValue = document.getElementById('rotate-value');
  const forwardSlider = document.getElementById('forward-slider');
  const forwardValue = document.getElementById('forward-value');
  const verticalSlider = document.getElementById('vertical-slider');
  const verticalValue = document.getElementById('vertical-value');
  const wideAngle = document.getElementById('wide-angle');
  const seedInput = document.getElementById('seed-input');
  const randomizeSeed = document.getElementById('randomize-seed');
  const guidanceSlider = document.getElementById('guidance-slider');
  const guidanceValue = document.getElementById('guidance-value');
  const stepsSlider = document.getElementById('steps-slider');
  const stepsValue = document.getElementById('steps-value');
  const heightSlider = document.getElementById('height-slider');
  const heightValue = document.getElementById('height-value');
  const widthSlider = document.getElementById('width-slider');
  const widthValue = document.getElementById('width-value');

  // Advanced toggle
  const advancedToggle = document.getElementById('advanced-toggle');
  const advancedSettings = document.getElementById('advanced-settings');
  const advancedIcon = document.getElementById('advanced-icon');

  let uploadedFile = null;

  // Advanced toggle
  advancedToggle.addEventListener('click', () => {
    advancedSettings.classList.toggle('hidden');
    advancedIcon.style.transform = advancedSettings.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
  });

  // Sliders updates
  rotateSlider.addEventListener('input', (e) => rotateValue.textContent = e.target.value);
  forwardSlider.addEventListener('input', (e) => forwardValue.textContent = e.target.value);
  verticalSlider.addEventListener('input', (e) => verticalValue.textContent = e.target.value);
  guidanceSlider.addEventListener('input', (e) => guidanceValue.textContent = e.target.value);
  stepsSlider.addEventListener('input', (e) => stepsValue.textContent = e.target.value);
  heightSlider.addEventListener('input', (e) => heightValue.textContent = e.target.value);
  widthSlider.addEventListener('input', (e) => widthValue.textContent = e.target.value);

  // Reset button
  resetBtn.addEventListener('click', () => {
    rotateSlider.value = 0;
    forwardSlider.value = 0;
    verticalSlider.value = 0;
    wideAngle.checked = false;
    rotateValue.textContent = '0';
    forwardValue.textContent = '0';
    verticalValue.textContent = '0';
  });

  // File upload
  fileUpload.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (file) {
      if (!file.type.startsWith('image/') || (!file.type.includes('png') && !file.type.includes('jpeg') && !file.type.includes('jpg'))) {
        alert('Por favor selecciona una imagen PNG o JPG.');
        return;
      }

      uploadedFile = file;
      const reader = new FileReader();
      reader.onload = (e) => {
        originalPreview.src = e.target.result;
        originalPreview.classList.remove('hidden');
        originalPlaceholder.classList.add('hidden');
        generateBtn.disabled = false;
        statusText.textContent = 'Imagen cargada - Ajusta parámetros y presiona Generar Ángulos';
      };
      reader.readAsDataURL(file);
    }
  });

  // Generate button
  generateBtn.addEventListener('click', async () => {
    if (!uploadedFile) {
      alert('Por favor carga una imagen primero');
      return;
    }

    // Show grid
    previewEmpty.classList.add('hidden');
    previewGrid.classList.remove('hidden');

    // Build prompt
    const rotate = rotateSlider.value;
    const forward = forwardSlider.value;
    const vertical = verticalSlider.value;
    const wide = wideAngle.checked;
    
    let prompt = `Rotar la cámara ${rotate} grados`;
    if (forward > 0) prompt += `, mover adelante ${forward} unidades para acercamiento`;
    if (vertical != 0) prompt += `, ángulo vertical ${vertical > 0 ? 'cenital' : 'contrapicado'} de ${Math.abs(vertical)}`;
    if (wide) prompt += `, usar lente gran angular`;

    // Get parameters
    const seed = randomizeSeed.checked ? Math.floor(Math.random() * 2147483647) : parseInt(seedInput.value);
    const guidance = parseFloat(guidanceSlider.value);
    const steps = parseInt(stepsSlider.value);
    const height = parseInt(heightSlider.value);
    const width = parseInt(widthSlider.value);

    // Update processed prompt
    processedPrompt.textContent = `${prompt}\n\nParámetros:\n- Semilla: ${seed}\n- Escala de Guía: ${guidance}\n- Pasos: ${steps}\n- Tamaño: ${width}x${height}`;

    // Show processing state
    outputStatus.textContent = 'Procesando...';
    outputPreview.classList.add('hidden');
    outputPlaceholder.innerHTML = '<div class="h-12 w-12 rounded-full border-2 border-neutral-700 border-t-violet-500 animate-spin mx-auto mb-3"></div><p class="text-sm text-neutral-500">Generando imagen...</p>';
    statusText.textContent = 'Generando imagen con IA...';

    try {
      // Send to backend
      const formData = new FormData();
      formData.append('image', uploadedFile);
      formData.append('prompt', prompt);
      formData.append('rotate', rotate);
      formData.append('forward', forward);
      formData.append('vertical', vertical);
      formData.append('wide_angle', wide);
      formData.append('seed', seed);
      formData.append('guidance_scale', guidance);
      formData.append('steps', steps);
      formData.append('height', height);
      formData.append('width', width);

      const response = await fetch('/generate', {
        method: 'POST',
        body: formData
      });

      if (response.ok) {
        const result = await response.json();
        
        // Show generated image
        outputPreview.src = result.image_url + '?t=' + Date.now();
        outputPreview.classList.remove('hidden');
        outputPlaceholder.classList.add('hidden');
        outputStatus.textContent = 'Completado ✓';
        downloadBtn.classList.remove('hidden');
        statusText.textContent = 'Generación completada exitosamente';
      } else {
        throw new Error('Error en la generación');
      }
    } catch (error) {
      console.error('Error:', error);
      outputStatus.textContent = 'Error ✗';
      outputPlaceholder.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="h-16 w-16 text-red-400 mx-auto mb-3"><circle cx="12" cy="12" r="10"></circle><path d="M12 8v4"></path><path d="M12 16h.01"></path></svg><p class="text-sm text-neutral-500">Error en generación</p>';
      statusText.textContent = 'Error en la generación';
    }
  });

  // Download button
  downloadBtn.addEventListener('click', () => {
    const link = document.createElement('a');
    link.href = outputPreview.src;
    link.download = `generated-${Date.now()}.png`;
    link.click();
  });
</script>

</body>
</html>